(()=>{var e={};e.id=627,e.ids=[627],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8169:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(9065),a(1506),a(5866);var s=a(3191),r=a(8716),i=a(7922),n=a.n(i),l=a(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["overlay",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9065)),"C:\\Users\\pc\\Documents\\development\\obs-earthquake-overlay\\app\\overlay\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"C:\\Users\\pc\\Documents\\development\\obs-earthquake-overlay\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\pc\\Documents\\development\\obs-earthquake-overlay\\app\\overlay\\page.tsx"],m="/overlay/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/overlay/page",pathname:"/overlay",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5517:()=>{},8109:(e,t,a)=>{Promise.resolve().then(a.bind(a,2397))},9742:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},2397:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(326),r=a(7577),i=a(2859);function n(e){try{if(!e||/^https?:\/\//.test(e))return e;return e.startsWith("/")?e:`/${e.replace(/^\//,"")}`}catch{return e}}function l(){let[e,t]=(0,r.useState)(i.ri),[a,l]=(0,r.useState)(null),[o,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(0),[x,u]=(0,r.useState)({open:!1,kind:"info",text:""});(0,r.useRef)(null),(0,r.useRef)(null);let p=(0,r.useRef)(null),h=new URLSearchParams(""),[g,f]=(0,r.useState)(()=>{try{return"hidden"!==document.visibilityState}catch{return!0}}),[b,v]=(0,r.useState)(()=>{try{let e=localStorage.getItem(i.IR);return null==e||"false"!==e}catch{return!0}}),y=Math.max(400,Number(h.get("size")??800)),w=Number(h.get("pad")??16);i.aA.Turkey;let j=(0,r.useMemo)(()=>{let t=(e.soundUrl||"").trim();if(t&&(t.endsWith(".mp3")||t.endsWith(".wav")))try{return new URL(t,document.location.href).href}catch{return t}return n("assets/default_alert.mp3")},[e.soundUrl]),N=Number(a?.mag??0),_=N>=7.5?{bg:"bg-[#b91c1c]",ring:"ring-[#b91c1c]/50"}:N>=6.5?{bg:"bg-[#dc2626]",ring:"ring-[#dc2626]/40"}:N>=5.5?{bg:"bg-[#f97316]",ring:"ring-[#f97316]/40"}:N>=4.5?{bg:"bg-[#facc15]",ring:"ring-[#facc15]/40"}:{bg:"bg-[#22c55e]",ring:"ring-[#22c55e]/40"},{r:k,g:$,b:M}=function(e){let t=(e||"").replace("#","");return 3===t.length?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16)}:6===t.length?{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16)}:{r:220,g:38,b:38}}(e.notifColor||"#dc2626"),S=a?.time?new Date(a.time).toLocaleString():"",P=a?`M${N.toFixed(1)} ${a.magtype??""}`.trim():"",I=a?`${o||(a.flynn_region??"Turkiye")}`:"",q=a?`Lat ${Number(a.lat).toFixed(2)} | Lon ${Number(a.lon).toFixed(2)}`:"",C="flat"===e.overlayStyle?"flat":"cinematic",U=a?`${a.depth??"?"} km`:"-",E=q||"-",D={backgroundImage:`linear-gradient(115deg, rgba(${k}, ${$}, ${M}, 0.95), rgba(15, 23, 42, 0.88))`},R={backgroundImage:`linear-gradient(360deg, rgba(${k}, ${$}, ${M}, 0.75), rgba(15, 23, 42, 0.92))`},L=(0,s.jsxs)("div",{className:"relative mx-auto w-full max-w-[460px]",children:[s.jsx("div",{className:"absolute inset-0 -z-10 blur-2xl opacity-70",style:R}),(0,s.jsxs)("div",{className:["pointer-events-auto relative w-full overflow-hidden rounded-[28px]","border border-white/18 text-white shadow-[0_25px_55px_rgba(0,0,0,0.45)]","opacity-0 translate-y-[-14px] animate-[slideIn_.32s_ease-out_forwards]",_.ring].join(" "),style:R,children:[s.jsx("div",{className:"absolute inset-0 opacity-70",style:{backgroundImage:`radial-gradient(circle at top left, rgba(${k},${$},${M},0.45), transparent 55%), radial-gradient(circle at bottom right, rgba(15,23,42,0.85), transparent 55%)`},"aria-hidden":!0}),(0,s.jsxs)("div",{className:"relative px-6 py-6",children:[s.jsx("div",{className:"flex justify-center mb-4",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/25 bg-white/10 px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.28em] text-white/95 shadow-[0_0_20px_rgba(255,38,38,0.35)] animate-[alertPulse_2s_ease-in-out_infinite]",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-[#f87171] shadow-[0_0_12px_rgba(248,113,113,0.9)]"}),"Earthquake"]})}),(0,s.jsxs)("div",{className:"mt-5 flex items-center gap-5",children:[(0,s.jsxs)("div",{className:"relative flex h-16 w-16 items-center justify-center",children:[s.jsx("span",{"aria-hidden":!0,className:"absolute h-full w-full rounded-[22px]",style:{background:`radial-gradient(circle, rgba(${k},${$},${M},0.55) 0%, rgba(${k},${$},${M},0) 70%)`,animation:"quakePulse 2.4s ease-in-out infinite"}}),(0,s.jsxs)("span",{className:`relative flex h-16 w-16 flex-col items-center justify-center rounded-[22px] ${_.bg} text-[20px] font-black`,style:{boxShadow:`0 20px 45px rgba(${k},${$},${M},0.35)`},children:[s.jsx("span",{children:N.toFixed(1)}),s.jsx("span",{className:"text-[9px] font-semibold tracking-[0.3em] text-white/80",children:"mag"})]})]}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"truncate text-[20px] font-semibold leading-tight",children:I||"Awaiting data"}),s.jsx("div",{className:"mt-1 truncate text-sm text-white/80",children:P||"No live alert"})]})]}),(0,s.jsxs)("div",{className:"mt-6 grid gap-4 text-xs uppercase tracking-[0.22em] text-white/65 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-white/15 bg-white/5 px-3 py-3",children:[s.jsx("p",{className:"text-[10px] font-semibold text-white/50",children:"Depth"}),s.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:U})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-white/15 bg-white/5 px-3 py-3",children:[s.jsx("p",{className:"text-[10px] font-semibold text-white/50",children:"Coordinates"}),s.jsx("p",{className:"mt-1 text-sm font-semibold text-white",children:E})]})]})]}),s.jsx("div",{className:"relative h-[3px] w-full overflow-hidden bg-white/10",children:s.jsx("div",{className:"absolute inset-0 w-full animate-[sweep_3.2s_linear_infinite] bg-gradient-to-r from-transparent via-white/60 to-transparent"})})]})]}),A=s.jsx("div",{className:"relative mx-auto w-full max-w-[560px]",children:(0,s.jsxs)("div",{className:"pointer-events-auto relative w-full overflow-hidden rounded-[22px] border border-white/15 bg-slate-950/80 text-white shadow-[0_18px_38px_rgba(0,0,0,0.45)] opacity-0 translate-y-[-10px] animate-[slideIn_.32s_ease-out_forwards]",style:D,children:[s.jsx("div",{className:"absolute inset-0 opacity-55",style:{backgroundImage:`radial-gradient(circle at top left, rgba(${k},${$},${M},0.4), transparent 55%), radial-gradient(circle at bottom right, rgba(15,23,42,0.85), transparent 55%)`},"aria-hidden":!0}),(0,s.jsxs)("div",{className:"relative flex flex-col gap-4 px-5 py-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex h-14 w-14 items-center justify-center",children:[s.jsx("span",{"aria-hidden":!0,className:"absolute h-full w-full rounded-[20px]",style:{background:`radial-gradient(circle, rgba(${k},${$},${M},0.55) 0%, rgba(${k},${$},${M},0) 70%)`,animation:"quakePulse 2.4s ease-in-out infinite"}}),(0,s.jsxs)("span",{className:`relative flex h-14 w-14 flex-col items-center justify-center rounded-[20px] ${_.bg} text-[18px] font-black`,children:[s.jsx("span",{children:N.toFixed(1)}),s.jsx("span",{className:"text-[9px] font-semibold tracking-[0.3em] text-white/80",children:"mag"})]})]}),(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-[18px] font-semibold leading-tight",children:I||"Awaiting data"}),s.jsx("div",{className:"mt-1 truncate text-sm text-white/80",children:P||"No live alert"}),s.jsx("div",{className:"mt-1 truncate text-xs text-white/70",children:E})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start gap-2 text-xs text-white/75 sm:items-end",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-[10px] font-semibold uppercase tracking-[0.26em] text-white/90 animate-[alertPulse_2s_ease-in-out_infinite]",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-[#f87171] shadow-[0_0_12px_rgba(248,113,113,0.9)]"}),"Earthquake"]}),s.jsx("span",{className:"text-xs font-medium text-white/70",children:S||"-"})]})]})]})}),O=s.jsx("div",{className:"relative mx-auto w-full max-w-[560px]",children:(0,s.jsxs)("div",{className:"pointer-events-auto relative w-full overflow-hidden rounded-[22px] border border-white/15 bg-slate-950/80 text-white shadow-[0_18px_38px_rgba(0,0,0,0.45)] opacity-0 translate-y-[-10px] animate-[slideIn_.32s_ease-out_forwards]",style:{backgroundImage:"linear-gradient(115deg, rgba(14, 165, 233, 0.95), rgba(15, 23, 42, 0.88))"},children:[s.jsx("div",{className:"absolute inset-0 opacity-55",style:{backgroundImage:"radial-gradient(circle at top left, rgba(14,165,233,0.4), transparent 55%), radial-gradient(circle at bottom right, rgba(15,23,42,0.85), transparent 55%)"},"aria-hidden":!0}),(0,s.jsxs)("div",{className:"relative flex flex-col gap-4 px-5 py-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex h-14 w-14 items-center justify-center",children:[s.jsx("span",{"aria-hidden":!0,className:"absolute h-full w-full rounded-[20px]",style:{background:"radial-gradient(circle, rgba(14,165,233,0.55) 0%, rgba(14,165,233,0) 70%)",animation:"quakePulse 2.4s ease-in-out infinite"}}),s.jsx("span",{className:"relative flex h-14 w-14 items-center justify-center rounded-[20px] bg-sky-500 text-[14px] font-black",children:"WS"})]}),(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-[18px] font-semibold leading-tight",children:"lost"===x.status?"Connection Lost":"Connection Closed"}),s.jsx("div",{className:"mt-1 truncate text-sm text-white/85",children:"lost"===x.status?"Reconnectingâ€¦":"Stopped by user or server"}),s.jsx("div",{className:"mt-1 truncate text-xs text-white/70",children:"WebSocket"})]})]}),s.jsx("div",{className:"flex flex-col items-start gap-2 text-xs text-white/75 sm:items-end",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-[10px] font-semibold uppercase tracking-[0.26em] text-white/90",children:[s.jsx("span",{className:"h-2 w-2 rounded-full bg-sky-300 shadow-[0_0_10px_rgba(14,165,233,0.8)]"}),"Status"]})})]})]})});return(0,s.jsxs)("div",{className:"h-full w-full bg-transparent",style:{pointerEvents:"none"},children:[x.open&&s.jsx("div",{className:"fixed top-0 left-0",style:{width:y,height:y},children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center py-8",children:s.jsx("div",{className:"w-full",style:{paddingLeft:w,paddingRight:w},children:O})})}),s.jsx("div",{className:"fixed top-0 left-0",style:{width:y,height:y},children:a&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center py-8",children:s.jsx("div",{className:"w-full",style:{paddingLeft:w,paddingRight:w},children:"flat"===C?A:L})})}),s.jsx("audio",{ref:p,src:j,preload:"auto",onError:()=>{let t=p.current;t&&!e.soundUrl&&(t.src=n("assets/default_alert.mp3"))}}),s.jsx("style",{children:`
        @keyframes slideIn {
          0% { opacity: 0; transform: translateY(-16px) scale(0.97); }
          100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        @keyframes sweep {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        @keyframes glimmer {
          0%, 100% { opacity: 0.4; }
          50% { opacity: 1; }
        }
        @keyframes quakePulse {
          0% { transform: scale(1); opacity: 0.65; }
          50% { transform: scale(1.25); opacity: 0.2; }
          100% { transform: scale(1.4); opacity: 0; }
        }
        @keyframes alertPulse {
          0%, 100% { box-shadow: 0 0 18px rgba(248,113,113,0.35); transform: translateY(0); }
          50% { box-shadow: 0 0 32px rgba(248,113,113,0.6); transform: translateY(-1px); }
        }
      `})]})}function o(){return s.jsx(l,{})}},2859:(e,t,a)=>{"use strict";a.d(t,{IR:()=>n,aA:()=>s,he:()=>l,ri:()=>o,zH:()=>i,zQ:()=>d});let s={Turkey:{latMin:35,latMax:43,lonMin:25,lonMax:45},Greece:{latMin:34,latMax:42,lonMin:19,lonMax:29},Italy:{latMin:36,latMax:47,lonMin:6,lonMax:19},Bulgaria:{latMin:41,latMax:45,lonMin:22,lonMax:29},Romania:{latMin:43,latMax:49,lonMin:20,lonMax:30}},r="emscDockConfigV2",i=new BroadcastChannel("emsc-quake"),n="emscWsEnabled",l={minMag:3,beep:!0,soundUrl:"assets/default_alert.mp3",notifColor:"#dc2626",displayDurationSec:8,theme:"dark",wsUrl:"",overlayStyle:"square"};function o(){try{var e;let t=localStorage.getItem(r);if(!t)return l;let a=JSON.parse(t);return{minMag:Number(a.minMag??l.minMag),beep:"boolean"==typeof a.beep?a.beep:l.beep,soundUrl:a.soundUrl??l.soundUrl,notifColor:a.notifColor??a.overlayBgColor??l.notifColor,displayDurationSec:(e=Number(a.displayDurationSec??l.displayDurationSec),Number.isNaN(e)?0:Math.min(120,Math.max(0,e))),theme:"light"===a.theme||"dark"===a.theme?a.theme:l.theme,wsUrl:"string"==typeof a.wsUrl?a.wsUrl:"",overlayStyle:"flat"===a.overlayStyle?"flat":"square"}}catch{return l}}function d(e){localStorage.setItem(r,JSON.stringify(e)),i.postMessage({type:"config:update"})}},1506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,metadata:()=>r});var s=a(9510);a(7272);let r={title:"OBS Earthquake Overlay",description:"Earthquake alert overlay for OBS"},i=`
try {
  var raw = localStorage.getItem('emscDockConfigV2');
  if (raw) {
    var s = JSON.parse(raw);
    if (s && s.theme === 'dark') document.documentElement.classList.add('dark');
    else document.documentElement.classList.remove('dark');
  }
} catch {};`;function n({children:e}){return(0,s.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[s.jsx("head",{children:s.jsx("script",{dangerouslySetInnerHTML:{__html:i}})}),s.jsx("body",{className:"min-h-screen bg-transparent",children:e})]})}},9065:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`C:\Users\pc\Documents\development\obs-earthquake-overlay\app\overlay\page.tsx#default`)},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[819],()=>a(8169));module.exports=s})();