(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{6854:function(e,t,r){Promise.resolve().then(r.bind(r,1477))},1477:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(7437),a=r(2265),o=r(4269),i=r(257);function s(){let{ok:e,login:t,logout:r}=function(){let[e,t]=(0,a.useState)(()=>{try{return"1"===sessionStorage.getItem("adminAuth")}catch(e){return!1}});return{ok:e,login:(e,r)=>{let n=void 0!==i&&i.env?i.env:{},a=n.NEXT_PUBLIC_ADMIN_USER||"admin",o=n.NEXT_PUBLIC_ADMIN_PASS||"change-me";if(e===a&&r===o){try{sessionStorage.setItem("adminAuth","1")}catch(e){}return t(!0),!0}return!1},logout:()=>{try{sessionStorage.removeItem("adminAuth")}catch(e){}t(!1)}}}(),[s,l]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[g,h]=(0,a.useState)(o.ri);(0,a.useEffect)(()=>{(0,o._v)(g.theme)},[g.theme]);let f=(0,a.useMemo)(()=>(void 0!==i&&i.env?i.env:{}).NEXT_PUBLIC_EMSC_WS_URL||"wss://www.seismicportal.eu/standing_order/websocket",[]);return e?(0,n.jsx)("div",{className:"p-6 min-h-full bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold tracking-tight",children:"Admin Panel"}),(0,n.jsx)("button",{className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700",onClick:r,children:"Logout"})]}),(0,n.jsxs)("section",{className:"border border-gray-200 dark:border-gray-800 rounded-2xl p-5 mb-6 bg-white/80 dark:bg-neutral-900/80 shadow-sm",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold uppercase tracking-wider text-gray-600 dark:text-gray-300 mb-4",children:"WebSocket Settings"}),(0,n.jsx)("div",{className:"space-y-3",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4 items-center",children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:"WebSocket Endpoint"}),(0,n.jsxs)("div",{className:"sm:col-span-2",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("input",{className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-neutral-800 placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500",placeholder:f,value:g.wsUrl||"",onChange:e=>h({...g,wsUrl:e.target.value})}),(0,n.jsx)("button",{className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-neutral-800 text-sm",onClick:()=>h({...g,wsUrl:""}),title:"Use default from build env",children:"Use default"})]}),(0,n.jsxs)("div",{className:"mt-1 text-gray-500 dark:text-gray-400 text-xs",children:["Leave empty to use default: ",f]})]})]})})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white shadow-sm",onClick:()=>{let e={...g,minMag:Number(g.minMag)||0};(0,o.zQ)(e),alert("Saved. Overlay will reconnect if URL changed.")},children:"Save"}),(0,n.jsx)("button",{className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:()=>{h(o.he)},children:"Reset (not saved)"})]})]})}):(0,n.jsx)("div",{className:"p-6 min-h-full bg-white dark:bg-neutral-900 text-gray-900 dark:text-gray-100",children:(0,n.jsxs)("div",{className:"max-w-sm mx-auto",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Admin Login"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("input",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-neutral-800",placeholder:"Username",value:s,onChange:e=>l(e.target.value)}),(0,n.jsx)("input",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-neutral-800",type:"password",placeholder:"Password",value:d,onChange:e=>u(e.target.value)}),c&&(0,n.jsx)("div",{className:"text-rose-600 text-sm",children:c}),(0,n.jsx)("button",{className:"px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white",onClick:()=>{m(""),t(s,d)||m("Invalid credentials")},children:"Login"}),(0,n.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Note: Client-side check only. Set VITE_ADMIN_USER and VITE_ADMIN_PASS in env."})]})]})})}function l(){return(0,n.jsx)(s,{})}},257:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function o(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l=[],d=!1,u=-1;function c(){d&&n&&(d=!1,n.length?l=n.concat(l):u=-1,l.length&&m())}function m(){if(!d){var e=s(c);d=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new g(e,t)),1!==l.length||d||s(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}},i=!0;try{t[e](o,o.exports,n),i=!1}finally{i&&delete r[e]}return o.exports}n.ab="//";var a=n(229);e.exports=a}()},4269:function(e,t,r){"use strict";r.d(t,{IR:function(){return i},_v:function(){return u},aA:function(){return n},he:function(){return s},ri:function(){return l},zH:function(){return o},zQ:function(){return d}});let n={Turkey:{latMin:35,latMax:43,lonMin:25,lonMax:45},Greece:{latMin:34,latMax:42,lonMin:19,lonMax:29},Italy:{latMin:36,latMax:47,lonMin:6,lonMax:19},Bulgaria:{latMin:41,latMax:45,lonMin:22,lonMax:29},Romania:{latMin:43,latMax:49,lonMin:20,lonMax:30}},a="emscDockConfigV2",o=new BroadcastChannel("emsc-quake"),i="emscWsEnabled",s={minMag:3,beep:!0,soundUrl:"assets/default_alert.mp3",notifColor:"#dc2626",displayDurationSec:8,theme:"dark",wsUrl:"",overlayStyle:"square"};function l(){try{var e,t,r,n,o,i;let l=localStorage.getItem(a);if(!l)return s;let d=JSON.parse(l);return{minMag:Number(null!==(e=d.minMag)&&void 0!==e?e:s.minMag),beep:"boolean"==typeof d.beep?d.beep:s.beep,soundUrl:null!==(t=d.soundUrl)&&void 0!==t?t:s.soundUrl,notifColor:null!==(n=null!==(r=d.notifColor)&&void 0!==r?r:d.overlayBgColor)&&void 0!==n?n:s.notifColor,displayDurationSec:(i=Number(null!==(o=d.displayDurationSec)&&void 0!==o?o:s.displayDurationSec),Number.isNaN(i)?0:Math.min(120,Math.max(0,i))),theme:"light"===d.theme||"dark"===d.theme?d.theme:s.theme,wsUrl:"string"==typeof d.wsUrl?d.wsUrl:"",overlayStyle:"flat"===d.overlayStyle?"flat":"square"}}catch(e){return s}}function d(e){localStorage.setItem(a,JSON.stringify(e)),o.postMessage({type:"config:update"})}function u(e){let t=document.documentElement;t&&("dark"===e?t.classList.add("dark"):t.classList.remove("dark"))}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6854)}),_N_E=e.O()}]);